<div class="flex flex-col rounded-box gap-3 bg-base-100">
    <div class="overflow-x-auto rounded-box border border-base-content/5">
        <div class="flex w-full justify-end p-4">
            <button type="button" class="btn btn-primary-content" routerLink="/contracts/new">Criar contrato</button>
        </div>
        <div class="w-full p-2">
            <table class="table table-sm bg-gray-100">
                <thead>
                    <tr class="text-white bg-gradient-to-r from-primary to-black">
                        <th>Título</th>
                        <th>Categoria</th>
                        <th>Fornecedor</th>
                        <th>Data</th>
                        <th>Valor (R$)</th>
                        <th>Responsável</th>
                        <th>Situação</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    @for (contract of contractService.contracts(); track contract.id) {
                    <tr class="cursor-pointer transition-all duration-300 ease-in-out transform hover:bg-gray-200">
                        <td class="font-semibold" [routerLink]="['/contracts', contract.id]">{{contract.title}}</td>
                        <td [routerLink]="['/contracts', contract.id]">{{contract.category}}</td>
                        <td [routerLink]="['/contracts', contract.id]">{{contract.supplier}}</td>
                        <td [routerLink]="['/contracts', contract.id]">{{contract.due_date | date: 'dd/MM/yyyy'}}</td>
                        <td [routerLink]="['/contracts', contract.id]">{{contract.value | currency: 'R$ '}}</td>
                        <td [routerLink]="['/contracts', contract.id]">{{contract.user}}</td>
                        <td [routerLink]="['/contracts', contract.id]">
                            <div class="badge badge-md"
                                [ngClass]="(contract.status=='emitido' ? 'badge-success': (contract.status=='cancelado' ? 'badge-error': 'badge-info'))">
                                {{contract.status}}</div>
                        </td>
                        <td>
                            <button class="btn btn-ghost" (click)="onContractDelete(contract)">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor"
                                    class="size-4 text-red-600">
                                    <path fill-rule="evenodd"
                                        d="M5 3.25V4H2.75a.75.75 0 0 0 0 1.5h.3l.815 8.15A1.5 1.5 0 0 0 5.357 15h5.285a1.5 1.5 0 0 0 1.493-1.35l.815-8.15h.3a.75.75 0 0 0 0-1.5H11v-.75A2.25 2.25 0 0 0 8.75 1h-1.5A2.25 2.25 0 0 0 5 3.25Zm2.25-.75a.75.75 0 0 0-.75.75V4h3v-.75a.75.75 0 0 0-.75-.75h-1.5ZM6.05 6a.75.75 0 0 1 .787.713l.275 5.5a.75.75 0 0 1-1.498.075l-.275-5.5A.75.75 0 0 1 6.05 6Zm3.9 0a.75.75 0 0 1 .712.787l-.275 5.5a.75.75 0 0 1-1.498-.075l.275-5.5a.75.75 0 0 1 .786-.711Z"
                                        clip-rule="evenodd" />
                                </svg>
                            </button>
                        </td>
                    </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>
</div>

<app-confirmation-modal></app-confirmation-modal>
